import{c as H,a as f,t as L,b as K}from"./DNFbThfs.js";import"./BUQwjzWP.js";import{j as Q,l as U,o as V,u as W,k as X,f as i,g as a,m,e as l,s as n,r as c,n as Y,t as C}from"./DoNDGHyy.js";import{s as Z}from"./DC9tgs7-.js";import{i as k}from"./BX3J5sb_.js";import{r as T}from"./CPhAXEh1.js";import{e as j}from"./BZLr5Rgo.js";import{t as $,a as ee}from"./DYqkcObb.js";import{b as z}from"./06K-g5fM.js";import{i as te}from"./CVtg5WK5.js";import{p as A}from"./B0y5V2xw.js";import{u as ae}from"./C7vU1ys0.js";import{g as se}from"./1o6BxO2k.js";import{I as re}from"./BzFb7UYT.js";import{t as ie}from"./DMoKzXAu.js";var oe=L('<p class="text-sm text-red-600 mb-2"> </p>'),le=L('<span class="flex justify-center text-4xl text-white"><!></span>'),ne=L('<div class="fixed inset-0 backdrop-blur-lg bg-black bg-opacity-50 bg-blur flex justify-center items-center z-50"><div class="bg-white p-6 rounded-xl w-full max-w-sm relative"><button class="absolute top-2 right-3 text-red-500">âœ•</button> <h2 class="text-xl font-semibold mb-1">Are you an existing user?</h2> <div class="flex justify-between items-center mb-4"><p class="text-sm text-gray-600">Please log in first</p> <a href="/registration" class="text-sm text-blue-600">Registration</a></div> <input placeholder="Email" class="w-full p-2 mb-3 border rounded bg-yellow-100"> <input type="password" placeholder="Password" class="w-full p-2 mb-3 border rounded bg-yellow-100"> <!> <button class="w-full bg-black text-white p-2 rounded"><!></button> <p class="text-xs text-center mt-3 text-gray-400">By continuing, I agree to their <a class="underline" href="/">privacy</a> and <a class="underline" href="/">policy</a></p></div></div>');function je(B,v){Q(v,!1);const b=m();let E=A(v,"isOpen",8,!1),g=A(v,"close",8,()=>{}),o=m(""),p=m(""),d=m(""),x=m(!1);async function J(){if(a(b)){i(x,!0);try{const s=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a(o),password:a(p)})}),r=await s.json();s.ok&&r.success?(ae.set({email:a(o)}),ie.success("Log in Successfully!"),g()(),se("/")):i(d,r.error||"Invalid credentials")}catch{i(d,"Login failed. Please try again.")}i(x,!1)}}U(()=>(a(o),a(p)),()=>{i(b,a(o).trim()&&a(p).trim())}),V(),te();var I=H(),M=W(I);{var N=s=>{var r=ne(),O=l(r),P=l(O),y=n(P,4),R=n(l(y),2);c(y);var _=n(y,2);T(_);var h=n(_,2);T(h);var S=n(h,2);{var q=e=>{var t=oe(),w=l(t,!0);c(t),C(()=>Z(w,a(d))),f(e,t)};k(S,e=>{a(d)&&e(q)})}var u=n(S,2),D=l(u);{var F=e=>{var t=le(),w=l(t);re(w,{icon:"codex:loader"}),c(t),f(e,t)},G=e=>{var t=K("Continue");f(e,t)};k(D,e=>{a(x)?e(F):e(G,!1)})}c(u),Y(2),c(O),c(r),C(()=>u.disabled=!a(b)),j("click",P,function(...e){var t;(t=g())==null||t.apply(this,e)}),j("click",R,function(...e){var t;(t=g())==null||t.apply(this,e)}),z(_,()=>a(o),e=>i(o,e)),z(h,()=>a(p),e=>i(p,e)),j("click",u,J),$(3,r,()=>ee),f(s,r)};k(M,s=>{E()&&s(N)})}f(B,I),X()}export{je as L};
