import{t as R,a as w}from"../chunks/DNFbThfs.js";import"../chunks/BUQwjzWP.js";import{B as k,y as A,j as C,m as H,l as D,o as F,t as L,e as p,s as c,g as s,k as I,$ as M,f as d,C as z,r as f,q as E}from"../chunks/DoNDGHyy.js";import{s as P}from"../chunks/DC9tgs7-.js";import{h as G}from"../chunks/C2qLbvVc.js";import{l as J}from"../chunks/BZLr5Rgo.js";import{i as K}from"../chunks/CVtg5WK5.js";import{p as N}from"../chunks/B0y5V2xw.js";import{S as Q}from"../chunks/CePE4mtX.js";function O(e,i,t){if(e.multiple)return V(e,i);for(var r of e.options){var a=m(r);if(A(a,i)){r.selected=!0;return}}(!t||i!==void 0)&&(e.selectedIndex=-1)}function T(e,i){k(()=>{var t=new MutationObserver(()=>{var r=e.__value;O(e,r)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function U(e,i,t=i){var r=!0;J(e,"change",a=>{var n=a?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(n),m);else{var v=e.querySelector(n)??e.querySelector("option:not([disabled])");l=v&&m(v)}t(l)}),k(()=>{var a=i();if(O(e,a,r),r&&a===void 0){var n=e.querySelector(":checked");n!==null&&(a=m(n),t(a))}e.__value=a,r=!1}),T(e)}function V(e,i){for(var t of e.options)t.selected=~i.indexOf(m(t))}function m(e){return"__value"in e?e.__value:e.value}var W=R('<meta name="description" content="Product Search Result">'),X=R('<section class="container mx-auto p-4"><div class="flex justify-between mt-20 items-center mb-4"><div class="flex flex-col gap-2"><h2 class="text-xl font-semibold"> </h2> <p> </p></div> <select class="border px-2 py-1 rounded text-sm"><option>Default</option><option>Price: Low to High</option><option>Price: High to Low</option><option>Rating: High to Low</option></select></div> <!></section>');function se(e,i){C(i,!1);let t=N(i,"data",8),r=H("default"),a=H([...t().results]);D(()=>(z(t()),s(r)),()=>{const o=[...t().results];s(r)==="priceLow"?d(a,o.sort((u,_)=>u.price-_.price)):s(r)==="priceHigh"?d(a,o.sort((u,_)=>_.price-u.price)):s(r)==="ratingHigh"?d(a,o.sort((u,_)=>_.rating-u.rating)):d(a,o)}),F(),K();var n=X();G(o=>{var u=W();M.title="Search Result",w(o,u)});var l=p(n),v=p(l),g=p(v),$=p(g);f(g);var S=c(g,2),j=p(S);f(S),f(v);var h=c(v,2);L(()=>{s(r),E(()=>{})});var b=p(h);b.value=b.__value="default";var x=c(b);x.value=x.__value="priceLow";var y=c(x);y.value=y.__value="priceHigh";var q=c(y);q.value=q.__value="ratingHigh",f(h),f(l);var B=c(l,2);Q(B,{get results(){return s(a)},initialLimit:4,expandBy:10}),f(n),L(()=>{var o;P($,`Search: "${t().q??""}"`),P(j,`${s(a).length??""} items found for "${((o=t())==null?void 0:o.q)??""}"`)}),U(h,()=>s(r),o=>d(r,o)),w(e,n),I()}export{se as component};
